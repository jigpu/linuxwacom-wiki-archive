The GNOME desktop (and related offshoots like Unity, Cinnamon, etc.) has a known compatibility issue with the buttons found on most "consumer" Wacom devices that prevents them from being configured and used properly. This issue has been pointed out on numerous occasions, but is not likely to be resolved soon due to a lack of developer resources. This page aims to document the issue and provide workarounds that may be useful to affected users.

== Affected Devices ==
This issue affects most "consumer" Wacom devices that were sold under the "Bamboo" and (non-professional) "Intuos" brands. The following devices, among others, may experience issues:

* ''CTH-690'' Intuos Art medium
* ''CTL-690'' Intuos Draw medium
* ''CTH-490'' Intuos Art/Photo/Comic small
* ''CTL-490'' Intuos Draw small
* ''CTL-680'' Intuos Pen (M)
* ''CTL-480'' Intuos Pen (S)
* ''CTH-680'' Intuos Pen & Touch (M)
* ''CTH-480'' Intuos Pen & Touch (S)
* ''CTL-671'' One by Wacom
* ''CTH-670'' Bamboo Create/Fun
* ''CTH-470'' Bamboo Capture/Manga
* ''CTL-470'' Bamboo Connect
* ''CTH-661SE'' Bamboo Pen & Touch Special Edition (M)
* ''CTH-461SE'' Bamboo Pen & Touch Special Edition (S)
* ''CTH-661(A)'' Bamboo Fun/Comic Pen & Touch (M)
* ''CTH-461(A)'' Bamboo Fun/Craft/Comic Pen & Touch (S)
* ''CTH-460(A)'' Bamboo Pen & Touch
* ''CTH-661'' Bamboo Fun/Comic Pen & Touch (M)
* ''CTH-461'' Bamboo Fun/Craft/Comic Pen & Touch (S)
* ''CTH-460'' Bamboo Pen & Touch
* ''CTT-460'' Bamboo Touch
* ''CTE-650'' Wacom Bamboo Fun
* ''CTE-450'' Wacom Bamboo Fun
* ''CTE-640'' Wacom Graphire4 6x8
* ''CTE-440'' Wacom Graphire4 4x5


== History ==

Wacom Branded devices have historically been divided into 2 categories, professional (e.g. Intuos Pro) and consumer (e.g. Intuos 2 (2015)). Because of the different target users of these devices, Wacom defines the default button mapping of each device differently. 

Whereas the buttons for the professional devices are numbered sequentially, consumer devices are defined as Left Button, Right Button, Back Button, and Forward Button. Because Wacom has full control over the Wacom Windows driver and control panel, remapping the directional buttons to other values is more straightforward. Remapping the directional buttons on Linux requires navigating the input stack. To replicate the default Windows button mapping, the Wacom Kernel driver and Wacom X driver attempt to pass along the same default directional button mappings, but GNOME does not watch for the consumer device's button definitions.

For four button devices, these consumer tablet ExpressKey buttons are given the values 1,3,8, and 9 when leaving the Wacom X driver. In contrast, the X driver passes along sequential numerical button mappings (1,2,3,8,9,...) for the professional tablet series (e.g. Intuos Pro, Intuos 4, Cintiq, etc.). A relevant side note is that GNOME [https://git.gnome.org/browse/gnome-settings-daemon/tree/plugins/wacom/gsd-wacom-device.c#n2047 works around] the button numbering gap for buttons 4 to 7 introduced by the X driver.

== GNOME ==

gnome-settings-daemon (gsd) and gnome-control-panel (gcc) work closely together. They provide the button mappings seen in the Wacom Gnome control panel (used in Fedora and RHEL) as well as the derivative Unity Control Panel (used in Ubuntu). The maintainers of gsd/gcc understandably do not wish to support the awkward button mapping of the consumer buttons. See the section "Relevant Discussions" below for more details.

=== Solutions - How to assign keyboard shortcuts ===

The most direct way to assign these buttons is to use [[xsetwacom|xsetwacom]]. See [[Tablet Configuration|Tablet Configuration]] for instructions on how to use xsetwacom. Using xsetwacom, you can bypass GNOME and set the meaning of the buttons one layer lower in the stack. You have to apply the xinput or xsetwacom command with each restart, so you may want to use a startup script like the one discussed in [[Tablet Configuration#Sample Runtime Script|Tablet Configuration]].

=== Example Commands ===

You want to do something like:

<code>
xsetwacom set "Wacom Bamboo Pad pad" Button 1 "key esc" <br>
xsetwacom set "Wacom Bamboo Pad pad" Button 3 "key F11" <br>
xsetwacom set "Wacom Bamboo Pad pad" Button 8 "key ctrl alt t" <br>
xsetwacom set "Wacom Bamboo Pad pad" Button 9 "key p" <br>
</code>

after running '''xsetwacom --list''' to get the name of the device in the first set of quotes.

== Technical details ==

The Consumer devices end up with the button numbers of 1,3,8, and 9 due to the translation of BTN_LEFT, BTN_RIGHT, BTN_BACK, and BTN_FORWARD (not respectively). It is possible, though potentially frustrating, to assign buttons 1,3, and 8 using GNOME's interface. For those buttons, the button representations on screen won't line up with the buttons on the physical tablet, but can still be assigned.

Relevant fix discussions:<br>
https://sourceforge.net/p/linuxwacom/mailman/message/32096190/<br>
https://sourceforge.net/p/linuxwacom/bugs/244/<br>

Relevant Developer Discussions:<br>
https://www.mail-archive.com/linuxwacom-devel%40lists.sourceforge.net/msg04896.html<br>
https://www.mail-archive.com/linuxwacom-devel%40lists.sourceforge.net/msg04918.html<br>
https://www.mail-archive.com/linuxwacom-devel%40lists.sourceforge.net/msg05980.html<br>
http://sourceforge.net/p/linuxwacom/mailman/message/32091384/<br>

http://who-t.blogspot.com/2016/04/libinput-and-graphics-tablet-pad-support.html<br>